
<!DOCTYPE HTML>
<html lang="zh-hans" >
    <head>
        <title>V8 · fe-books</title>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.1.0">
        <meta name="author" content="laomu1988@qq.com">
        
        
    
    <link rel="stylesheet" href="gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-search/search.css">
                
            
        

    

    
        
    

        

    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="vm.html" />
    
    
    <link rel="prev" href="util.html" />
    

<link rel="stylesheet" href="/fe-books/server/index.css"/>

    </head>
    <body>
        
<script src="/fe-books/server/vue.min.js"></script>
<nav class="fe-menu">
	<ul>
		<li><a href="/fe-books/books/assist/index.html">说明</a></li>
		<li><a href="/fe-books/books/react/index.html">react</a></li>
		<li>
			<a href="/fe-books/books/vue/index.html">vue.js</a>
			<ul class="sub">
				<li><a href="/fe-books/books/vue-router/index.html">vue-router</a></li>
			</ul>
		</li>
		<li>
			<a href="/fe-books/books/node/documentation.html">node</a>
			<ul class="sub">
				<li><a href="/fe-books/books/koa/index.html">koa</a></li>
			</ul>
		</li>
		<li><a href="/fe-books/books/es6/index.html">es6入门</a></li>
		<li>
			<a href="/fe-books/books/tools/index.html">工具</a>
			<ul class="sub">
				<li><a href="/fe-books/books/tools/git.html">git</a></li>
				<li><a href="/fe-books/books/tools/vim.html">vim</a></li>
				<li><a href="/fe-books/books/fis3/index.html">fis3</a></li>
			</ul>
		</li>
		<li class="menu-last"></li>
	</ul>
</nav>

<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="./">
            
                <a href="./">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="documentation.html">
            
                <a href="documentation.html">
            
                    
                    About these Docs
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="synopsis.html">
            
                <a href="synopsis.html">
            
                    
                    Usage & Example
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="assert.html">
            
                <a href="assert.html">
            
                    
                    Assertion Testing
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="buffer.html">
            
                <a href="buffer.html">
            
                    
                    Buffer
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="addons.html">
            
                <a href="addons.html">
            
                    
                    C/C++ Addons
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7" data-path="child_process.html">
            
                <a href="child_process.html">
            
                    
                    Child Processes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8" data-path="cluster.html">
            
                <a href="cluster.html">
            
                    
                    Cluster
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9" data-path="cli.html">
            
                <a href="cli.html">
            
                    
                    Command Line Options
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10" data-path="console.html">
            
                <a href="console.html">
            
                    
                    Console
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11" data-path="crypto.html">
            
                <a href="crypto.html">
            
                    
                    Crypto
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12" data-path="debugger.html">
            
                <a href="debugger.html">
            
                    
                    Debugger
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13" data-path="dns.html">
            
                <a href="dns.html">
            
                    
                    DNS
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.14" data-path="domain.html">
            
                <a href="domain.html">
            
                    
                    Domain
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.15" data-path="errors.html">
            
                <a href="errors.html">
            
                    
                    Errors
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16" data-path="events.html">
            
                <a href="events.html">
            
                    
                    Events
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17" data-path="fs.html">
            
                <a href="fs.html">
            
                    
                    File System
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.18" data-path="globals.html">
            
                <a href="globals.html">
            
                    
                    Globals
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.19" data-path="http.html">
            
                <a href="http.html">
            
                    
                    HTTP
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.20" data-path="https.html">
            
                <a href="https.html">
            
                    
                    HTTPS
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.21" data-path="modules.html">
            
                <a href="modules.html">
            
                    
                    Modules
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.22" data-path="net.html">
            
                <a href="net.html">
            
                    
                    Net
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.23" data-path="os.html">
            
                <a href="os.html">
            
                    
                    OS
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.24" data-path="path.html">
            
                <a href="path.html">
            
                    
                    Path
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.25" data-path="process.html">
            
                <a href="process.html">
            
                    
                    Process
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.26" data-path="punycode.html">
            
                <a href="punycode.html">
            
                    
                    Punycode
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.27" data-path="querystring.html">
            
                <a href="querystring.html">
            
                    
                    Query Strings
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.28" data-path="readline.html">
            
                <a href="readline.html">
            
                    
                    Readline
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.29" data-path="repl.html">
            
                <a href="repl.html">
            
                    
                    REPL
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.30" data-path="stream.html">
            
                <a href="stream.html">
            
                    
                    Stream
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.31" data-path="string_decoder.html">
            
                <a href="string_decoder.html">
            
                    
                    String Decoder
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.32" data-path="timers.html">
            
                <a href="timers.html">
            
                    
                    Timers
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.33" data-path="tls.html">
            
                <a href="tls.html">
            
                    
                    TLS/SSL
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.34" data-path="tty.html">
            
                <a href="tty.html">
            
                    
                    TTY
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.35" data-path="dgram.html">
            
                <a href="dgram.html">
            
                    
                    UDP/Datagram
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.36" data-path="url.html">
            
                <a href="url.html">
            
                    
                    URL
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.37" data-path="util.html">
            
                <a href="util.html">
            
                    
                    Utilities
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.38" data-path="v8.html">
            
                <a href="v8.html">
            
                    
                    V8
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.39" data-path="vm.html">
            
                <a href="vm.html">
            
                    
                    VM
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.40" data-path="zlib.html">
            
                <a href="zlib.html">
            
                    
                    ZLIB
            
                </a>
            

            
        </li>
    

    
        
        <li class="divider"></li>
        
        
    
        <li class="chapter " data-level="2.1" >
            
                <a target="_blank" href="https://github.com/nodejs/node">
            
                    
                    GitHub Repo & Issue Tracker
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2" >
            
                <a target="_blank" href="http://groups.google.com/group/nodejs">
            
                    
                    Mailing List
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="." >V8</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="v8">V8</h1>
<p>The <code>v8</code> module exposes APIs that are specific to the version of <a href="https://developers.google.com/v8/" _target="blank">V8</a>
built into the Node.js binary. It can be accessed using:</p>
<pre><code class="lang-js"><span class="hljs-keyword">const</span> v8 = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;v8&apos;</span>);
</code></pre>
<p><em>Note</em>: The APIs and implementation are subject to change at any time.</p>
<h2 id="v8getheapstatistics">v8.getHeapStatistics()</h2>
<!-- YAML
added: v1.0.0
-->
<p>Returns an object with the following properties:</p>
<ul>
<li><code>total_heap_size</code> {number}</li>
<li><code>total_heap_size_executable</code> {number}</li>
<li><code>total_physical_size</code> {number}</li>
<li><code>total_available_size</code> {number}</li>
<li><code>used_heap_size</code> {number}</li>
<li><code>heap_size_limit</code> {number}</li>
</ul>
<p>For example:</p>
<pre><code class="lang-js">{
  total_heap_size: <span class="hljs-number">7326976</span>,
  total_heap_size_executable: <span class="hljs-number">4194304</span>,
  total_physical_size: <span class="hljs-number">7326976</span>,
  total_available_size: <span class="hljs-number">1152656</span>,
  used_heap_size: <span class="hljs-number">3476208</span>,
  heap_size_limit: <span class="hljs-number">1535115264</span>
}
</code></pre>
<h2 id="v8getheapspacestatistics">v8.getHeapSpaceStatistics()</h2>
<!-- YAML
added: v6.0.0
-->
<p>Returns statistics about the V8 heap spaces, i.e. the segments which make up
the V8 heap. Neither the ordering of heap spaces, nor the availability of a
heap space can be guaranteed as the statistics are provided via the V8
<a href="https://v8docs.nodesource.com/node-5.0/d5/dda/classv8_1_1_isolate.html#ac673576f24fdc7a33378f8f57e1d13a4" _target="blank"><code>GetHeapSpaceStatistics</code></a> function and may change from one V8 version to the
next.</p>
<p>The value returned is an array of objects containing the following properties:</p>
<ul>
<li><code>space_name</code> {string}</li>
<li><code>space_size</code> {number}</li>
<li><code>space_used_size</code> {number}</li>
<li><code>space_available_size</code> {number}</li>
<li><code>physical_space_size</code> {number}</li>
</ul>
<p>For example:</p>
<pre><code class="lang-json">[
  {
    <span class="hljs-string">&quot;space_name&quot;</span>: <span class="hljs-string">&quot;new_space&quot;</span>,
    <span class="hljs-string">&quot;space_size&quot;</span>: <span class="hljs-number">2063872</span>,
    <span class="hljs-string">&quot;space_used_size&quot;</span>: <span class="hljs-number">951112</span>,
    <span class="hljs-string">&quot;space_available_size&quot;</span>: <span class="hljs-number">80824</span>,
    <span class="hljs-string">&quot;physical_space_size&quot;</span>: <span class="hljs-number">2063872</span>
  },
  {
    <span class="hljs-string">&quot;space_name&quot;</span>: <span class="hljs-string">&quot;old_space&quot;</span>,
    <span class="hljs-string">&quot;space_size&quot;</span>: <span class="hljs-number">3090560</span>,
    <span class="hljs-string">&quot;space_used_size&quot;</span>: <span class="hljs-number">2493792</span>,
    <span class="hljs-string">&quot;space_available_size&quot;</span>: <span class="hljs-number">0</span>,
    <span class="hljs-string">&quot;physical_space_size&quot;</span>: <span class="hljs-number">3090560</span>
  },
  {
    <span class="hljs-string">&quot;space_name&quot;</span>: <span class="hljs-string">&quot;code_space&quot;</span>,
    <span class="hljs-string">&quot;space_size&quot;</span>: <span class="hljs-number">1260160</span>,
    <span class="hljs-string">&quot;space_used_size&quot;</span>: <span class="hljs-number">644256</span>,
    <span class="hljs-string">&quot;space_available_size&quot;</span>: <span class="hljs-number">960</span>,
    <span class="hljs-string">&quot;physical_space_size&quot;</span>: <span class="hljs-number">1260160</span>
  },
  {
    <span class="hljs-string">&quot;space_name&quot;</span>: <span class="hljs-string">&quot;map_space&quot;</span>,
    <span class="hljs-string">&quot;space_size&quot;</span>: <span class="hljs-number">1094160</span>,
    <span class="hljs-string">&quot;space_used_size&quot;</span>: <span class="hljs-number">201608</span>,
    <span class="hljs-string">&quot;space_available_size&quot;</span>: <span class="hljs-number">0</span>,
    <span class="hljs-string">&quot;physical_space_size&quot;</span>: <span class="hljs-number">1094160</span>
  },
  {
    <span class="hljs-string">&quot;space_name&quot;</span>: <span class="hljs-string">&quot;large_object_space&quot;</span>,
    <span class="hljs-string">&quot;space_size&quot;</span>: <span class="hljs-number">0</span>,
    <span class="hljs-string">&quot;space_used_size&quot;</span>: <span class="hljs-number">0</span>,
    <span class="hljs-string">&quot;space_available_size&quot;</span>: <span class="hljs-number">1490980608</span>,
    <span class="hljs-string">&quot;physical_space_size&quot;</span>: <span class="hljs-number">0</span>
  }
]
</code></pre>
<h2 id="v8setflagsfromstringstring">v8.setFlagsFromString(string)</h2>
<!-- YAML
added: v1.0.0
-->
<p>The <code>v8.setFlagsFromString()</code> method can be used to programmatically set 
V8 command line flags. This method should be used with care. Changing settings
after the VM has started may result in unpredictable behavior, including
crashes and data loss; or it may simply do nothing.</p>
<p>The V8 options available for a version of Node.js may be determined by running
<code>node --v8-options</code>.  An unofficial, community-maintained list of options
and their effects is available <a href="https://github.com/thlorenz/v8-flags/blob/master/flags-0.11.md" _target="blank">here</a>.</p>
<p>Usage:</p>
<pre><code class="lang-js"><span class="hljs-comment">// Print GC events to stdout for one minute.</span>
<span class="hljs-keyword">const</span> v8 = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;v8&apos;</span>);
v8.setFlagsFromString(<span class="hljs-string">&apos;--trace_gc&apos;</span>);
setTimeout(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{ v8.setFlagsFromString(<span class="hljs-string">&apos;--notrace_gc&apos;</span>); }, <span class="hljs-number">60e3</span>);
</code></pre>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="util.html" class="navigation navigation-prev " aria-label="Previous page: Utilities">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="vm.html" class="navigation navigation-next " aria-label="Next page: VM">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"V8","level":"1.38","depth":1,"next":{"title":"VM","level":"1.39","depth":1,"path":"vm.md","ref":"vm.md","articles":[]},"previous":{"title":"Utilities","level":"1.37","depth":1,"path":"util.md","ref":"util.md","articles":[]},"dir":"ltr"},"config":{"plugins":["-sharing","-fontsettings","-search-pro","-advanced-emoji","-github","-splitter","-toggle-chapters"],"styles":{"website":"styles/website.css"},"pluginsConfig":{"search-pro":{"cutWordLib":"nodejieba","defineWord":["Gitbook"]},"github":{"url":"https://github.com/laomu1988/fe-books"},"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"theme":"default","author":"laomu1988@qq.com","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"title":"fe-books","language":"zh-hans","gitbook":"*"},"file":{"path":"v8.md","mtime":"2016-08-09T15:23:10.000Z","type":"markdown"},"gitbook":{"version":"3.1.0","time":"2016-08-09T16:10:27.131Z"},"basePath":".","book":{"language":""}});
        });
    </script>
</div>

<script>
	// 百度统计
	var _hmt = _hmt || [];
	(function () {
		var hm = document.createElement("script");
		hm.src = "//hm.baidu.com/hm.js?171566b3d4f03c9c68c8f2c7a42d4b0e";
		var s = document.getElementsByTagName("script")[0];
		s.parentNode.insertBefore(hm, s);
	})();
</script>
<script src="/fe-books/server/index.js"></script>

        
    <script src="gitbook/gitbook.js"></script>
    <script src="gitbook/theme.js"></script>
    
        
        <script src="gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    

    </body>
</html>

