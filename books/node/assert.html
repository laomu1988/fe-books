
<!DOCTYPE HTML>
<html lang="zh-hans" >
    <head>
        <title>Assertion Testing · fe-books</title>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.1.0">
        <meta name="author" content="laomu1988@qq.com">
        
        
    
    <link rel="stylesheet" href="gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-search/search.css">
                
            
        

    

    
        
    

        

    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="buffer.html" />
    
    
    <link rel="prev" href="synopsis.html" />
    

<link rel="stylesheet" href="/fe-books/server/index.css"/>

    </head>
    <body>
        
<script src="/fe-books/server/vue.min.js"></script>
<nav class="fe-menu">
	<ul>
		<li><a href="/fe-books/books/assist/index.html">说明</a></li>
		<li><a href="/fe-books/books/react/index.html">react</a></li>
		<li>
			<a href="/fe-books/books/vue/index.html">vue.js</a>
			<ul class="sub">
				<li><a href="/fe-books/books/vue-router/index.html">vue-router</a></li>
			</ul>
		</li>
		<li>
			<a href="/fe-books/books/node/documentation.html">node</a>
			<ul class="sub">
				<li><a href="/fe-books/books/koa/index.html">koa</a></li>
			</ul>
		</li>
		<li><a href="/fe-books/books/es6/index.html">es6入门</a></li>
		<li>
			<a href="/fe-books/books/tools/index.html">工具</a>
			<ul class="sub">
				<li><a href="/fe-books/books/tools/git.html">git</a></li>
				<li><a href="/fe-books/books/tools/vim.html">vim</a></li>
				<li><a href="/fe-books/books/fis3/index.html">fis3</a></li>
			</ul>
		</li>
		<li class="menu-last"></li>
	</ul>
</nav>

<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="./">
            
                <a href="./">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="documentation.html">
            
                <a href="documentation.html">
            
                    
                    About these Docs
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="synopsis.html">
            
                <a href="synopsis.html">
            
                    
                    Usage & Example
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.4" data-path="assert.html">
            
                <a href="assert.html">
            
                    
                    Assertion Testing
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="buffer.html">
            
                <a href="buffer.html">
            
                    
                    Buffer
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="addons.html">
            
                <a href="addons.html">
            
                    
                    C/C++ Addons
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7" data-path="child_process.html">
            
                <a href="child_process.html">
            
                    
                    Child Processes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8" data-path="cluster.html">
            
                <a href="cluster.html">
            
                    
                    Cluster
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9" data-path="cli.html">
            
                <a href="cli.html">
            
                    
                    Command Line Options
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10" data-path="console.html">
            
                <a href="console.html">
            
                    
                    Console
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11" data-path="crypto.html">
            
                <a href="crypto.html">
            
                    
                    Crypto
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12" data-path="debugger.html">
            
                <a href="debugger.html">
            
                    
                    Debugger
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13" data-path="dns.html">
            
                <a href="dns.html">
            
                    
                    DNS
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.14" data-path="domain.html">
            
                <a href="domain.html">
            
                    
                    Domain
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.15" data-path="errors.html">
            
                <a href="errors.html">
            
                    
                    Errors
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16" data-path="events.html">
            
                <a href="events.html">
            
                    
                    Events
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17" data-path="fs.html">
            
                <a href="fs.html">
            
                    
                    File System
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.18" data-path="globals.html">
            
                <a href="globals.html">
            
                    
                    Globals
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.19" data-path="http.html">
            
                <a href="http.html">
            
                    
                    HTTP
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.20" data-path="https.html">
            
                <a href="https.html">
            
                    
                    HTTPS
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.21" data-path="modules.html">
            
                <a href="modules.html">
            
                    
                    Modules
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.22" data-path="net.html">
            
                <a href="net.html">
            
                    
                    Net
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.23" data-path="os.html">
            
                <a href="os.html">
            
                    
                    OS
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.24" data-path="path.html">
            
                <a href="path.html">
            
                    
                    Path
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.25" data-path="process.html">
            
                <a href="process.html">
            
                    
                    Process
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.26" data-path="punycode.html">
            
                <a href="punycode.html">
            
                    
                    Punycode
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.27" data-path="querystring.html">
            
                <a href="querystring.html">
            
                    
                    Query Strings
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.28" data-path="readline.html">
            
                <a href="readline.html">
            
                    
                    Readline
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.29" data-path="repl.html">
            
                <a href="repl.html">
            
                    
                    REPL
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.30" data-path="stream.html">
            
                <a href="stream.html">
            
                    
                    Stream
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.31" data-path="string_decoder.html">
            
                <a href="string_decoder.html">
            
                    
                    String Decoder
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.32" data-path="timers.html">
            
                <a href="timers.html">
            
                    
                    Timers
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.33" data-path="tls.html">
            
                <a href="tls.html">
            
                    
                    TLS/SSL
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.34" data-path="tty.html">
            
                <a href="tty.html">
            
                    
                    TTY
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.35" data-path="dgram.html">
            
                <a href="dgram.html">
            
                    
                    UDP/Datagram
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.36" data-path="url.html">
            
                <a href="url.html">
            
                    
                    URL
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.37" data-path="util.html">
            
                <a href="util.html">
            
                    
                    Utilities
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.38" data-path="v8.html">
            
                <a href="v8.html">
            
                    
                    V8
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.39" data-path="vm.html">
            
                <a href="vm.html">
            
                    
                    VM
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.40" data-path="zlib.html">
            
                <a href="zlib.html">
            
                    
                    ZLIB
            
                </a>
            

            
        </li>
    

    
        
        <li class="divider"></li>
        
        
    
        <li class="chapter " data-level="2.1" >
            
                <a target="_blank" href="https://github.com/nodejs/node">
            
                    
                    GitHub Repo & Issue Tracker
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2" >
            
                <a target="_blank" href="http://groups.google.com/group/nodejs">
            
                    
                    Mailing List
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="." >Assertion Testing</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="assert">Assert</h1>
<pre><code>Stability: 3 - Locked
</code></pre><p>The <code>assert</code> module provides a simple set of assertion tests that can be used to
test invariants. The module is intended for internal use by Node.js, but can be
used in application code via <code>require(&apos;assert&apos;)</code>. However, <code>assert</code> is not a
testing framework, and is not intended to be used as a general purpose assertion
library.</p>
<p>The API for the <code>assert</code> module is <a href="documentation.html#documentation_stability_index">Locked</a>. This means that there will be no
additions or changes to any of the methods implemented and exposed by
the module.</p>
<h2 id="assertvalue-message">assert(value[, message])</h2>
<!-- YAML
added: v0.5.9
-->
<p>An alias of <a href="#assert_assert_ok_value_message"><code>assert.ok()</code></a> .</p>
<pre><code class="lang-js"><span class="hljs-keyword">const</span> assert = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;assert&apos;</span>);

assert(<span class="hljs-literal">true</span>);  <span class="hljs-comment">// OK</span>
assert(<span class="hljs-number">1</span>);     <span class="hljs-comment">// OK</span>
assert(<span class="hljs-literal">false</span>);
  <span class="hljs-comment">// throws &quot;AssertionError: false == true&quot;</span>
assert(<span class="hljs-number">0</span>);
  <span class="hljs-comment">// throws &quot;AssertionError: 0 == true&quot;</span>
assert(<span class="hljs-literal">false</span>, <span class="hljs-string">&apos;it\&apos;s false&apos;</span>);
  <span class="hljs-comment">// throws &quot;AssertionError: it&apos;s false&quot;</span>
</code></pre>
<h2 id="assertdeepequalactual-expected-message">assert.deepEqual(actual, expected[, message])</h2>
<!-- YAML
added: v0.1.21
-->
<p>Tests for deep equality between the <code>actual</code> and <code>expected</code> parameters.
Primitive values are compared with the equal comparison operator ( <code>==</code> ).</p>
<p>Only enumerable &quot;own&quot; properties are considered. The <code>deepEqual()</code>
implementation does not test object prototypes, attached symbols, or
non-enumerable properties. This can lead to some potentially surprising
results. For example, the following example does not throw an <code>AssertionError</code>
because the properties on the <a href="errors.html#errors_class_error"><code>Error</code></a> object are non-enumerable:</p>
<pre><code class="lang-js"><span class="hljs-comment">// WARNING: This does not throw an AssertionError!</span>
assert.deepEqual(<span class="hljs-built_in">Error</span>(<span class="hljs-string">&apos;a&apos;</span>), <span class="hljs-built_in">Error</span>(<span class="hljs-string">&apos;b&apos;</span>));
</code></pre>
<p>&quot;Deep&quot; equality means that the enumerable &quot;own&quot; properties of child objects
are evaluated also:</p>
<pre><code class="lang-js"><span class="hljs-keyword">const</span> assert = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;assert&apos;</span>);

<span class="hljs-keyword">const</span> obj1 = {
  a : {
    b : <span class="hljs-number">1</span>
  }
};
<span class="hljs-keyword">const</span> obj2 = {
  a : {
    b : <span class="hljs-number">2</span>
  }
};
<span class="hljs-keyword">const</span> obj3 = {
  a : {
    b : <span class="hljs-number">1</span>
  }
};
<span class="hljs-keyword">const</span> obj4 = <span class="hljs-built_in">Object</span>.create(obj1);

assert.deepEqual(obj1, obj1);
  <span class="hljs-comment">// OK, object is equal to itself</span>

assert.deepEqual(obj1, obj2);
  <span class="hljs-comment">// AssertionError: { a: { b: 1 } } deepEqual { a: { b: 2 } }</span>
  <span class="hljs-comment">// values of b are different</span>

assert.deepEqual(obj1, obj3);
  <span class="hljs-comment">// OK, objects are equal</span>

assert.deepEqual(obj1, obj4);
  <span class="hljs-comment">// AssertionError: { a: { b: 1 } } deepEqual {}</span>
  <span class="hljs-comment">// Prototypes are ignored</span>
</code></pre>
<p>If the values are not equal, an <code>AssertionError</code> is thrown with a <code>message</code>
property set equal to the value of the <code>message</code> parameter. If the <code>message</code>
parameter is undefined, a default error message is assigned.</p>
<h2 id="assertdeepstrictequalactual-expected-message">assert.deepStrictEqual(actual, expected[, message])</h2>
<!-- YAML
added: v1.2.0
-->
<p>Generally identical to <code>assert.deepEqual()</code> with two exceptions. First,
primitive values are compared using the strict equality operator ( <code>===</code> ).
Second, object comparisons include a strict equality check of their prototypes.</p>
<pre><code class="lang-js"><span class="hljs-keyword">const</span> assert = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;assert&apos;</span>);

assert.deepEqual({a:<span class="hljs-number">1</span>}, {a:<span class="hljs-string">&apos;1&apos;</span>});
  <span class="hljs-comment">// OK, because 1 == &apos;1&apos;</span>

assert.deepStrictEqual({a:<span class="hljs-number">1</span>}, {a:<span class="hljs-string">&apos;1&apos;</span>});
  <span class="hljs-comment">// AssertionError: { a: 1 } deepStrictEqual { a: &apos;1&apos; }</span>
  <span class="hljs-comment">// because 1 !== &apos;1&apos; using strict equality</span>
</code></pre>
<p>If the values are not equal, an <code>AssertionError</code> is thrown with a <code>message</code>
property set equal to the value of the <code>message</code> parameter. If the <code>message</code>
parameter is undefined, a default error message is assigned.</p>
<h2 id="assertdoesnotthrowblock-error-message">assert.doesNotThrow(block[, error][, message])</h2>
<!-- YAML
added: v0.1.21
-->
<p>Asserts that the function <code>block</code> does not throw an error. See
<a href="#assert_assert_throws_block_error_message"><code>assert.throws()</code></a> for more details.</p>
<p>When <code>assert.doesNotThrow()</code> is called, it will immediately call the <code>block</code>
function.</p>
<p>If an error is thrown and it is the same type as that specified by the <code>error</code>
parameter, then an <code>AssertionError</code> is thrown. If the error is of a different
type, or if the <code>error</code> parameter is undefined, the error is propagated back
to the caller.</p>
<p>The following, for instance, will throw the <a href="errors.html#errors_class_typeerror"><code>TypeError</code></a> because there is no
matching error type in the assertion:</p>
<pre><code class="lang-js">assert.doesNotThrow(
  () =&gt; {
    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">TypeError</span>(<span class="hljs-string">&apos;Wrong value&apos;</span>);
  },
  <span class="hljs-built_in">SyntaxError</span>
);
</code></pre>
<p>However, the following will result in an <code>AssertionError</code> with the message
&apos;Got unwanted exception (TypeError)..&apos;:</p>
<pre><code class="lang-js">assert.doesNotThrow(
  () =&gt; {
    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">TypeError</span>(<span class="hljs-string">&apos;Wrong value&apos;</span>);
  },
  <span class="hljs-built_in">TypeError</span>
);
</code></pre>
<p>If an <code>AssertionError</code> is thrown and a value is provided for the <code>message</code>
parameter, the value of <code>message</code> will be appended to the <code>AssertionError</code>
message:</p>
<pre><code class="lang-js">assert.doesNotThrow(
  () =&gt; {
    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">TypeError</span>(<span class="hljs-string">&apos;Wrong value&apos;</span>);
  },
  <span class="hljs-built_in">TypeError</span>,
  <span class="hljs-string">&apos;Whoops&apos;</span>
);
<span class="hljs-comment">// Throws: AssertionError: Got unwanted exception (TypeError). Whoops</span>
</code></pre>
<h2 id="assertequalactual-expected-message">assert.equal(actual, expected[, message])</h2>
<!-- YAML
added: v0.1.21
-->
<p>Tests shallow, coercive equality between the <code>actual</code> and <code>expected</code> parameters
using the equal comparison operator ( <code>==</code> ).</p>
<pre><code class="lang-js"><span class="hljs-keyword">const</span> assert = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;assert&apos;</span>);

assert.equal(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>);
  <span class="hljs-comment">// OK, 1 == 1</span>
assert.equal(<span class="hljs-number">1</span>, <span class="hljs-string">&apos;1&apos;</span>);
  <span class="hljs-comment">// OK, 1 == &apos;1&apos;</span>

assert.equal(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>);
  <span class="hljs-comment">// AssertionError: 1 == 2</span>
assert.equal({a: {b: <span class="hljs-number">1</span>}}, {a: {b: <span class="hljs-number">1</span>}});
  <span class="hljs-comment">//AssertionError: { a: { b: 1 } } == { a: { b: 1 } }</span>
</code></pre>
<p>If the values are not equal, an <code>AssertionError</code> is thrown with a <code>message</code>
property set equal to the value of the <code>message</code> parameter. If the <code>message</code>
parameter is undefined, a default error message is assigned.</p>
<h2 id="assertfailactual-expected-message-operator">assert.fail(actual, expected, message, operator)</h2>
<!-- YAML
added: v0.1.21
-->
<p>Throws an <code>AssertionError</code>. If <code>message</code> is falsy, the error message is set as
the values of <code>actual</code> and <code>expected</code> separated by the provided <code>operator</code>.
Otherwise, the error message is the value of <code>message</code>.</p>
<pre><code class="lang-js"><span class="hljs-keyword">const</span> assert = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;assert&apos;</span>);

assert.fail(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-literal">undefined</span>, <span class="hljs-string">&apos;&gt;&apos;</span>);
  <span class="hljs-comment">// AssertionError: 1 &gt; 2</span>

assert.fail(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-string">&apos;whoops&apos;</span>, <span class="hljs-string">&apos;&gt;&apos;</span>);
  <span class="hljs-comment">// AssertionError: whoops</span>
</code></pre>
<h2 id="assertiferrorvalue">assert.ifError(value)</h2>
<!-- YAML
added: v0.1.97
-->
<p>Throws <code>value</code> if <code>value</code> is truthy. This is useful when testing the <code>error</code>
argument in callbacks.</p>
<pre><code class="lang-js"><span class="hljs-keyword">const</span> assert = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;assert&apos;</span>);

assert.ifError(<span class="hljs-number">0</span>); <span class="hljs-comment">// OK</span>
assert.ifError(<span class="hljs-number">1</span>); <span class="hljs-comment">// Throws 1</span>
assert.ifError(<span class="hljs-string">&apos;error&apos;</span>); <span class="hljs-comment">// Throws &apos;error&apos;</span>
assert.ifError(<span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>()); <span class="hljs-comment">// Throws Error</span>
</code></pre>
<h2 id="assertnotdeepequalactual-expected-message">assert.notDeepEqual(actual, expected[, message])</h2>
<!-- YAML
added: v0.1.21
-->
<p>Tests for any deep inequality. Opposite of <a href="#assert_assert_deepequal_actual_expected_message"><code>assert.deepEqual()</code></a>.</p>
<pre><code class="lang-js"><span class="hljs-keyword">const</span> assert = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;assert&apos;</span>);

<span class="hljs-keyword">const</span> obj1 = {
  a : {
    b : <span class="hljs-number">1</span>
  }
};
<span class="hljs-keyword">const</span> obj2 = {
  a : {
    b : <span class="hljs-number">2</span>
  }
};
<span class="hljs-keyword">const</span> obj3 = {
  a : {
    b : <span class="hljs-number">1</span>
  }
};
<span class="hljs-keyword">const</span> obj4 = <span class="hljs-built_in">Object</span>.create(obj1);

assert.notDeepEqual(obj1, obj1);
  <span class="hljs-comment">// AssertionError: { a: { b: 1 } } notDeepEqual { a: { b: 1 } }</span>

assert.notDeepEqual(obj1, obj2);
  <span class="hljs-comment">// OK, obj1 and obj2 are not deeply equal</span>

assert.notDeepEqual(obj1, obj3);
  <span class="hljs-comment">// AssertionError: { a: { b: 1 } } notDeepEqual { a: { b: 1 } }</span>

assert.notDeepEqual(obj1, obj4);
  <span class="hljs-comment">// OK, obj1 and obj2 are not deeply equal</span>
</code></pre>
<p>If the values are deeply equal, an <code>AssertionError</code> is thrown with a <code>message</code>
property set equal to the value of the <code>message</code> parameter. If the <code>message</code>
parameter is undefined, a default error message is assigned.</p>
<h2 id="assertnotdeepstrictequalactual-expected-message">assert.notDeepStrictEqual(actual, expected[, message])</h2>
<!-- YAML
added: v1.2.0
-->
<p>Tests for deep strict inequality. Opposite of <a href="#assert_assert_deepstrictequal_actual_expected_message"><code>assert.deepStrictEqual()</code></a>.</p>
<pre><code class="lang-js"><span class="hljs-keyword">const</span> assert = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;assert&apos;</span>);

assert.notDeepEqual({a:<span class="hljs-number">1</span>}, {a:<span class="hljs-string">&apos;1&apos;</span>});
  <span class="hljs-comment">// AssertionError: { a: 1 } notDeepEqual { a: &apos;1&apos; }</span>

assert.notDeepStrictEqual({a:<span class="hljs-number">1</span>}, {a:<span class="hljs-string">&apos;1&apos;</span>});
  <span class="hljs-comment">// OK</span>
</code></pre>
<p>If the values are deeply and strictly equal, an <code>AssertionError</code> is thrown
with a <code>message</code> property set equal to the value of the <code>message</code> parameter. If
the <code>message</code> parameter is undefined, a default error message is assigned.</p>
<h2 id="assertnotequalactual-expected-message">assert.notEqual(actual, expected[, message])</h2>
<!-- YAML
added: v0.1.21
-->
<p>Tests shallow, coercive inequality with the not equal comparison operator
( <code>!=</code> ).</p>
<pre><code class="lang-js"><span class="hljs-keyword">const</span> assert = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;assert&apos;</span>);

assert.notEqual(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>);
  <span class="hljs-comment">// OK</span>

assert.notEqual(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>);
  <span class="hljs-comment">// AssertionError: 1 != 1</span>

assert.notEqual(<span class="hljs-number">1</span>, <span class="hljs-string">&apos;1&apos;</span>);
  <span class="hljs-comment">// AssertionError: 1 != &apos;1&apos;</span>
</code></pre>
<p>If the values are equal, an <code>AssertionError</code> is thrown with a <code>message</code>
property set equal to the value of the <code>message</code> parameter. If the <code>message</code>
parameter is undefined, a default error message is assigned.</p>
<h2 id="assertnotstrictequalactual-expected-message">assert.notStrictEqual(actual, expected[, message])</h2>
<!-- YAML
added: v0.1.21
-->
<p>Tests strict inequality as determined by the strict not equal operator
( <code>!==</code> ).</p>
<pre><code class="lang-js"><span class="hljs-keyword">const</span> assert = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;assert&apos;</span>);

assert.notStrictEqual(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>);
  <span class="hljs-comment">// OK</span>

assert.notStrictEqual(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>);
  <span class="hljs-comment">// AssertionError: 1 != 1</span>

assert.notStrictEqual(<span class="hljs-number">1</span>, <span class="hljs-string">&apos;1&apos;</span>);
  <span class="hljs-comment">// OK</span>
</code></pre>
<p>If the values are strictly equal, an <code>AssertionError</code> is thrown with a
<code>message</code> property set equal to the value of the <code>message</code> parameter. If the
<code>message</code> parameter is undefined, a default error message is assigned.</p>
<h2 id="assertokvalue-message">assert.ok(value[, message])</h2>
<!-- YAML
added: v0.1.21
-->
<p>Tests if <code>value</code> is truthy. It is equivalent to
<code>assert.equal(!!value, true, message)</code>.</p>
<p>If <code>value</code> is not truthy, an <code>AssertionError</code> is thrown with a <code>message</code>
property set equal to the value of the <code>message</code> parameter. If the <code>message</code>
parameter is <code>undefined</code>, a default error message is assigned.</p>
<pre><code class="lang-js"><span class="hljs-keyword">const</span> assert = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;assert&apos;</span>);

assert.ok(<span class="hljs-literal">true</span>);  <span class="hljs-comment">// OK</span>
assert.ok(<span class="hljs-number">1</span>);     <span class="hljs-comment">// OK</span>
assert.ok(<span class="hljs-literal">false</span>);
  <span class="hljs-comment">// throws &quot;AssertionError: false == true&quot;</span>
assert.ok(<span class="hljs-number">0</span>);
  <span class="hljs-comment">// throws &quot;AssertionError: 0 == true&quot;</span>
assert.ok(<span class="hljs-literal">false</span>, <span class="hljs-string">&apos;it\&apos;s false&apos;</span>);
  <span class="hljs-comment">// throws &quot;AssertionError: it&apos;s false&quot;</span>
</code></pre>
<h2 id="assertstrictequalactual-expected-message">assert.strictEqual(actual, expected[, message])</h2>
<!-- YAML
added: v0.1.21
-->
<p>Tests strict equality as determined by the strict equality operator ( <code>===</code> ).</p>
<pre><code class="lang-js"><span class="hljs-keyword">const</span> assert = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;assert&apos;</span>);

assert.strictEqual(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>);
  <span class="hljs-comment">// AssertionError: 1 === 2</span>

assert.strictEqual(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>);
  <span class="hljs-comment">// OK</span>

assert.strictEqual(<span class="hljs-number">1</span>, <span class="hljs-string">&apos;1&apos;</span>);
  <span class="hljs-comment">// AssertionError: 1 === &apos;1&apos;</span>
</code></pre>
<p>If the values are not strictly equal, an <code>AssertionError</code> is thrown with a
<code>message</code> property set equal to the value of the <code>message</code> parameter. If the
<code>message</code> parameter is undefined, a default error message is assigned.</p>
<h2 id="assertthrowsblock-error-message">assert.throws(block[, error][, message])</h2>
<!-- YAML
added: v0.1.21
-->
<p>Expects the function <code>block</code> to throw an error.</p>
<p>If specified, <code>error</code> can be a constructor, <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Regular_Expressions" _target="blank"><code>RegExp</code></a>, or validation
function.</p>
<p>If specified, <code>message</code> will be the message provided by the <code>AssertionError</code> if
the block fails to throw.</p>
<p>Validate instanceof using constructor:</p>
<pre><code class="lang-js">assert.throws(
  () =&gt; {
    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">&apos;Wrong value&apos;</span>);
  },
  <span class="hljs-built_in">Error</span>
);
</code></pre>
<p>Validate error message using <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Regular_Expressions" _target="blank"><code>RegExp</code></a>:</p>
<pre><code class="lang-js">assert.throws(
  () =&gt; {
    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">&apos;Wrong value&apos;</span>);
  },
  <span class="hljs-regexp">/value/</span>
);
</code></pre>
<p>Custom error validation:</p>
<pre><code class="lang-js">assert.throws(
  () =&gt; {
    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">&apos;Wrong value&apos;</span>);
  },
  <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">err</span>) </span>{
    <span class="hljs-keyword">if</span> ( (err <span class="hljs-keyword">instanceof</span> <span class="hljs-built_in">Error</span>) &amp;&amp; <span class="hljs-regexp">/value/</span>.test(err) ) {
      <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    }
  },
  <span class="hljs-string">&apos;unexpected error&apos;</span>
);
</code></pre>
<p>Note that <code>error</code> can not be a string. If a string is provided as the second
argument, then <code>error</code> is assumed to be omitted and the string will be used for
<code>message</code> instead. This can lead to easy-to-miss mistakes:</p>
<pre><code class="lang-js"><span class="hljs-comment">// THIS IS A MISTAKE! DO NOT DO THIS!</span>
assert.throws(myFunction, <span class="hljs-string">&apos;missing foo&apos;</span>, <span class="hljs-string">&apos;did not throw with expected message&apos;</span>);

<span class="hljs-comment">// Do this instead.</span>
assert.throws(myFunction, <span class="hljs-regexp">/missing foo/</span>, <span class="hljs-string">&apos;did not throw with expected message&apos;</span>);
</code></pre>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="synopsis.html" class="navigation navigation-prev " aria-label="Previous page: Usage & Example">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="buffer.html" class="navigation navigation-next " aria-label="Next page: Buffer">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Assertion Testing","level":"1.4","depth":1,"next":{"title":"Buffer","level":"1.5","depth":1,"path":"buffer.md","ref":"buffer.md","articles":[]},"previous":{"title":"Usage & Example","level":"1.3","depth":1,"path":"synopsis.md","ref":"synopsis.md","articles":[]},"dir":"ltr"},"config":{"plugins":["-sharing","-fontsettings","-search-pro","-advanced-emoji","-github","-splitter","-toggle-chapters"],"styles":{"website":"styles/website.css"},"pluginsConfig":{"search-pro":{"cutWordLib":"nodejieba","defineWord":["Gitbook"]},"github":{"url":"https://github.com/laomu1988/fe-books"},"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"theme":"default","author":"laomu1988@qq.com","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"title":"fe-books","language":"zh-hans","gitbook":"*"},"file":{"path":"assert.md","mtime":"2016-08-09T15:23:10.000Z","type":"markdown"},"gitbook":{"version":"3.1.0","time":"2016-08-09T16:10:27.131Z"},"basePath":".","book":{"language":""}});
        });
    </script>
</div>

<script>
	// 百度统计
	var _hmt = _hmt || [];
	(function () {
		var hm = document.createElement("script");
		hm.src = "//hm.baidu.com/hm.js?171566b3d4f03c9c68c8f2c7a42d4b0e";
		var s = document.getElementsByTagName("script")[0];
		s.parentNode.insertBefore(hm, s);
	})();
</script>
<script src="/fe-books/server/index.js"></script>

        
    <script src="gitbook/gitbook.js"></script>
    <script src="gitbook/theme.js"></script>
    
        
        <script src="gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    

    </body>
</html>

